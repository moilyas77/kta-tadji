import{C as k,r as V,o as n,c as u,w as m,a as s,b as _,u as e,d as v,e as c,f as d,t as w,F as U,g as r,h as C,v as A}from"./app-Bmo5HFoe.js";import{_ as N}from"./AccountLayout-DX-qlTmf.js";import{_ as i}from"./CardInput-CCMh69wG.js";import{_ as f}from"./Input-CpbyHh2Y.js";import{_ as g}from"./InputError-1DCSaM6V.js";import"./BaseLayout-BoV4VSrS.js";import"./LogoutModal-BtPpPKvC.js";import"./pagination-BhSgCxto.js";const T={class:"p-2 lg:px-4"},D={class:"flex justify-center"},P=["src"],B={class:"mx-auto mt-6 w-fit flex flex-col gap-2"},$={class:"flex gap-2"},j={class:"mx-auto w-fit bg-red btn btn-xs btn-outline"},F={class:"my-4 flex flex-col gap-1 items-center"},L={key:0,class:"font-semibold px-4 rounded-full bg-base-200"},R={class:"font-semibold px-4 rounded-full bg-base-200"},S={class:"p-2 lg:px-4"},q={class:"grid grid-cols-1 xl:grid-cols-2 mx-auto gap-4"},K={__name:"Profile",props:{user:{type:Object,required:!0}},setup(o){const a=k({nama:o.user.nama,tanggal_lahir:o.user.tanggal_lahir,tempat_lahir:o.user.tempat_lahir,agama:o.user.agama,alamat:o.user.alamat,unlat:o.user.unlat,foto:o.user.foto,tahun_angkatan:o.user.tahun_angkatan,photoDeleted:!1}),x=V(null),b=p=>{const t=p.target.files[0];if(a.foto=t,t!=null){const l=new FileReader;l.onload=()=>{x.value=l.result,p.target.value=null},l.readAsDataURL(t)}},h=()=>{o.user.foto&&(a.photoDeleted=!0),x.value=null,a.foto=""},y=()=>{a.foto==o.user.foto&&a.foto=="",a.post(route("profile.update",o.user.id),{headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{},onError:()=>{}})};return(p,t)=>(n(),u(N,null,{default:m(()=>[s("div",T,[s("form",{onSubmit:_(y,["prevent"])},[s("div",D,[s("img",{id:"avatar",class:"h-full max-h-48 aspect-square object-fill mask mask-circle",src:x.value?x.value:e(a).foto?"/"+e(a).foto:"/foto/default.png"},null,8,P)]),s("div",B,[s("div",$,[s("label",j,[t[7]||(t[7]=v(" Change Photo ")),s("input",{onInput:b,type:"file",class:"hidden"},null,32)]),x.value||e(a).foto?(n(),c("button",{key:0,onClick:h,type:"button",class:"btn btn-xs btn-error"},"Remove Photo")):d("",!0)])]),s("div",F,[o.user.role=="admin"?(n(),c("span",L,"Admin")):(n(),c(U,{key:1},[t[8]||(t[8]=s("span",null,"No. Anggota",-1)),s("span",R,w(o.user.no_anggota),1)],64))]),s("div",S,[s("div",q,[r(i,{class:"max-w-lg mx-auto",label:"Nama"},{default:m(()=>[r(f,{modelValue:e(a).nama,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).nama=l),type:"text"},null,8,["modelValue"]),e(a).errors.nama?(n(),u(g,{key:0,message:e(a).errors.nama},null,8,["message"])):d("",!0)]),_:1}),r(i,{class:"max-w-lg mx-auto",label:"Agama"},{default:m(()=>[r(f,{modelValue:e(a).agama,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).agama=l),type:"text"},null,8,["modelValue"]),e(a).errors.agama?(n(),u(g,{key:0,message:e(a).errors.agama},null,8,["message"])):d("",!0)]),_:1}),r(i,{class:"max-w-lg mx-auto",label:"Tanggal Lahir"},{default:m(()=>[r(f,{modelValue:e(a).tanggal_lahir,"onUpdate:modelValue":t[2]||(t[2]=l=>e(a).tanggal_lahir=l),type:"date"},null,8,["modelValue"]),e(a).errors.tanggal_lahir?(n(),u(g,{key:0,message:e(a).errors.tanggal_lahir},null,8,["message"])):d("",!0)]),_:1}),r(i,{class:"max-w-lg mx-auto",label:"Tempat Lahir"},{default:m(()=>[r(f,{modelValue:e(a).tempat_lahir,"onUpdate:modelValue":t[3]||(t[3]=l=>e(a).tempat_lahir=l),type:"text"},null,8,["modelValue"]),e(a).errors.tempat_lahir?(n(),u(g,{key:0,message:e(a).errors.tempat_lahir},null,8,["message"])):d("",!0)]),_:1}),r(i,{class:"max-w-lg mx-auto",label:"Unlat"},{default:m(()=>[r(f,{modelValue:e(a).unlat,"onUpdate:modelValue":t[4]||(t[4]=l=>e(a).unlat=l),type:"text"},null,8,["modelValue"]),e(a).errors.unlat?(n(),u(g,{key:0,message:e(a).errors.unlat},null,8,["message"])):d("",!0)]),_:1}),r(i,{class:"max-w-lg mx-auto",label:"Tahun Angkatan"},{default:m(()=>[r(f,{modelValue:e(a).tahun_angkatan,"onUpdate:modelValue":t[5]||(t[5]=l=>e(a).tahun_angkatan=l),type:"number",min:"1900",max:"2099",step:"1"},null,8,["modelValue"]),e(a).errors.tahun_angkatan?(n(),u(g,{key:0,message:e(a).errors.tahun_angkatan},null,8,["message"])):d("",!0)]),_:1}),r(i,{class:"max-w-lg mx-auto",label:"Alamat"},{default:m(()=>[C(s("textarea",{"onUpdate:modelValue":t[6]||(t[6]=l=>e(a).alamat=l),rows:"3",class:"textarea textarea-bordered textarea-sm"},null,512),[[A,e(a).alamat]]),e(a).errors.alamat?(n(),u(g,{key:0,message:e(a).errors.alamat},null,8,["message"])):d("",!0)]),_:1})]),t[9]||(t[9]=s("div",{class:"flex flex-row-reverse w-full mt-10 px-4"},[s("button",{type:"submit",class:"btn btn-info"},"Update")],-1))])],32)])]),_:1}))}};export{K as default};
