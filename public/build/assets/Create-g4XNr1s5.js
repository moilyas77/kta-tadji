import{C as y,r as k,o as r,c as m,w as n,a as o,g as s,d as h,u as a,b as v,f as u,h as c,v as U,e as f,j as A,P as C}from"./app-Bmo5HFoe.js";import{_ as i}from"./Input-CpbyHh2Y.js";import{_ as P}from"./AdminLayout-J5-NyEiv.js";import{_ as d}from"./InputError-1DCSaM6V.js";import{_ as g}from"./CardInput-CCMh69wG.js";import{u as S}from"./pagination-BhSgCxto.js";import"./BaseLayout-BoV4VSrS.js";import"./LogoutModal-BtPpPKvC.js";const T={class:"flex w-full gap-4"},N={class:"p-2 lg:px-4"},B={class:"grid grid-cols-1 xl:grid-cols-2 mx-auto gap-4"},D={class:"h-full flex justify-center"},$={key:0,class:"btn btn-sm"},j={key:1,class:"flex flex-col gap-4"},L=["src"],M={class:"ml-4 my-10 flex items-center gap-4 cursor-pointer"},R={key:0},E={class:"grid grid-cols-1 xl:grid-cols-2 mx-auto gap-4"},Q={__name:"Create",setup(F){const e=y({no_anggota:"",nama:"",tanggal_lahir:"",tempat_lahir:"",agama:"",alamat:"",unlat:"",tahun_angkatan:"",foto:"",withAccount:!1,username:"",password:""}),p=k(null),w=x=>{const l=x.target.files[0];if(e.foto=l,l!=null){const t=new FileReader;t.onload=()=>{p.value=t.result,console.log(p.value)},t.readAsDataURL(l)}},_=()=>{p.value=null,e.foto=""},V=()=>{e.post(route("users.store"),{headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{e.reset(),p.value=null},onError:()=>{}})},b=S();return(x,l)=>(r(),m(P,null,{contentHeader:n(()=>[o("div",T,[s(a(C),{href:x.route("users.index",{page:a(b).getCurrentPage,search:a(b).getSearchKey}),class:"btn btn-sm btn-neutral"},{default:n(()=>l[11]||(l[11]=[o("i",{class:"ri-arrow-left-line"},null,-1),h("Kembali ")])),_:1},8,["href"]),l[12]||(l[12]=o("h2",{class:"text-2xl"},"Tambah Data Anggota",-1))])]),default:n(()=>[o("div",N,[o("form",{onSubmit:v(V,["prevent"])},[l[16]||(l[16]=o("h3",{class:"w-fit text-lg px-4 py-2 mb-4 ml-4 border-b-2 border-base-content/50 font-semibold"},"Data Pribadi",-1)),o("div",B,[s(g,{class:"max-w-lg mx-auto",label:"No. Anggota (14 digit, ex: 01010160012024)"},{default:n(()=>[s(i,{modelValue:a(e).no_anggota,"onUpdate:modelValue":l[0]||(l[0]=t=>a(e).no_anggota=t),type:"text",maxlength:"14",pattern:"\\d{14}"},null,8,["modelValue"]),a(e).errors.no_anggota?(r(),m(d,{key:0,message:a(e).errors.no_anggota},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto",label:"Nama"},{default:n(()=>[s(i,{modelValue:a(e).nama,"onUpdate:modelValue":l[1]||(l[1]=t=>a(e).nama=t),type:"text"},null,8,["modelValue"]),a(e).errors.nama?(r(),m(d,{key:0,message:a(e).errors.nama},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto",label:"Tanggal Lahir"},{default:n(()=>[s(i,{modelValue:a(e).tanggal_lahir,"onUpdate:modelValue":l[2]||(l[2]=t=>a(e).tanggal_lahir=t),type:"date"},null,8,["modelValue"]),a(e).errors.tanggal_lahir?(r(),m(d,{key:0,message:a(e).errors.tanggal_lahir},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto",label:"Tempat Lahir"},{default:n(()=>[s(i,{modelValue:a(e).tempat_lahir,"onUpdate:modelValue":l[3]||(l[3]=t=>a(e).tempat_lahir=t),type:"text"},null,8,["modelValue"]),a(e).errors.tempat_lahir?(r(),m(d,{key:0,message:a(e).errors.tempat_lahir},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto",label:"Agama"},{default:n(()=>[s(i,{modelValue:a(e).agama,"onUpdate:modelValue":l[4]||(l[4]=t=>a(e).agama=t),type:"text"},null,8,["modelValue"]),a(e).errors.agama?(r(),m(d,{key:0,message:a(e).errors.agama},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto",label:"Unlat"},{default:n(()=>[s(i,{modelValue:a(e).unlat,"onUpdate:modelValue":l[5]||(l[5]=t=>a(e).unlat=t),type:"text"},null,8,["modelValue"]),a(e).errors.unlat?(r(),m(d,{key:0,message:a(e).errors.unlat},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto",label:"Tahun Angkatan"},{default:n(()=>[s(i,{modelValue:a(e).tahun_angkatan,"onUpdate:modelValue":l[6]||(l[6]=t=>a(e).tahun_angkatan=t),type:"number",min:"1900",max:"2099",step:"1"},null,8,["modelValue"]),a(e).errors.tahun_angkatan?(r(),m(d,{key:0,message:a(e).errors.tahun_angkatan},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto",label:"Alamat"},{default:n(()=>[c(o("textarea",{"onUpdate:modelValue":l[7]||(l[7]=t=>a(e).alamat=t),rows:"5",class:"textarea textarea-bordered textarea-sm"},null,512),[[U,a(e).alamat]]),a(e).errors.alamat?(r(),m(d,{key:0,message:a(e).errors.alamat},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto xl:col-start-2 xl:row-start-4 xl:row-span-2",label:"Foto"},{default:n(()=>[o("div",D,[p.value?(r(),f("div",j,[o("img",{src:p.value,class:"h-full max-h-48 aspect-square object-fill mask mask-circle"},null,8,L),o("button",{onClick:_,class:"btn btn-sm btn-error"},"Remove Photo")])):(r(),f("label",$,[l[13]||(l[13]=o("span",null,"Select Photo",-1)),s(i,{onChange:w,type:"file",accept:"image/*",class:"hidden"})])),a(e).errors.foto&&!p.value?(r(),m(d,{key:2,message:a(e).errors.foto},null,8,["message"])):u("",!0)])]),_:1})]),o("label",M,[l[14]||(l[14]=o("span",null,"Add Account to this User ?",-1)),c(o("input",{"onUpdate:modelValue":l[8]||(l[8]=t=>a(e).withAccount=t),type:"checkbox",class:"checkbox"},null,512),[[A,a(e).withAccount]])]),a(e).withAccount?(r(),f("div",R,[l[15]||(l[15]=o("h3",{class:"w-fit text-lg px-4 p-2 mb-4 ml-4 border-b-2 border-base-content/50 font-semibold"},"User Account",-1)),o("div",E,[s(g,{class:"max-w-lg mx-auto",label:"Username"},{default:n(()=>[s(i,{modelValue:a(e).username,"onUpdate:modelValue":l[9]||(l[9]=t=>a(e).username=t),type:"text"},null,8,["modelValue"]),a(e).errors.username?(r(),m(d,{key:0,message:a(e).errors.username},null,8,["message"])):u("",!0)]),_:1}),s(g,{class:"max-w-lg mx-auto",label:"Password"},{default:n(()=>[s(i,{modelValue:a(e).password,"onUpdate:modelValue":l[10]||(l[10]=t=>a(e).password=t),type:"password"},null,8,["modelValue"]),a(e).errors.password?(r(),m(d,{key:0,message:a(e).errors.password},null,8,["message"])):u("",!0)]),_:1})])])):u("",!0),l[17]||(l[17]=o("div",{class:"flex flex-row-reverse w-full mt-10 px-4"},[o("button",{type:"submit",class:"btn btn-success"},"Save")],-1))],32)])]),_:1}))}};export{Q as default};
